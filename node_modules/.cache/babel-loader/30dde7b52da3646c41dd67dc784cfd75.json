{"ast":null,"code":"import _toConsumableArray from\"/Users/liliia/Downloads/demo-social-network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/liliia/Downloads/demo-social-network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{profileAPI}from'../api/api';import avatarIcon from'../assets/images/rainbow.jpeg';var ADD_POST='ADD_POST';var DELETE_POST='DELETE_POST';// const UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\nvar SET_USER_PROFILE='SET_USER_PROFILE';var SET_STATUS='SET_STATUS';var initialState={posts:[{id:1,avatar:avatarIcon,likesCount:14,message:'A koala is my favorite animal'},{id:2,avatar:avatarIcon,likesCount:10,message:'What a wonderful world!'},{id:3,avatar:'',likesCount:30,message:'Every life matters. Even the smallest.'}],// newPostText: '',\nuserProfile:null,status:''};var profileReducer=function profileReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){// case UPDATE_NEW_POST_TEXT:\n//   return {\n//     ...state,\n//     newPostText: action.newPostChange,\n//   }\ncase ADD_POST:var newPost={id:5,avatar:avatarIcon,likesCount:0,message:action.newPostBody};return _objectSpread(_objectSpread({},state),{},{posts:[].concat(_toConsumableArray(state.posts),[newPost])// newPostText: '',\n});case DELETE_POST:return _objectSpread(_objectSpread({},state),{},{posts:_toConsumableArray(state.posts).filter(function(p){return p.id!==action.postId;})});case SET_USER_PROFILE:{return _objectSpread(_objectSpread({},state),{},{userProfile:action.userProfileData});}case SET_STATUS:{return _objectSpread(_objectSpread({},state),{},{status:action.status});}default:return state;}};export var addPost=function addPost(newPostBody){return{type:ADD_POST,newPostBody:newPostBody};};//actionCreator create the action ={type: ADD_POST, newPostBody:newPostBody}\nexport var deletePost=function deletePost(postId){return{type:DELETE_POST,postId:postId};};// export const updateNewPostTextCreator = (text) => ({ type: UPDATE_NEW_POST_TEXT, newPostChange: text });\nexport var setUserProfile=function setUserProfile(userProfileData){return{type:SET_USER_PROFILE,userProfileData:userProfileData};};export var setStatus=function setStatus(status){return{type:SET_STATUS,status:status};};export var getProfile=function getProfile(userId){return function(dispatch){profileAPI.getProfileRequest(userId).then(function(data){dispatch(setUserProfile(data));});};};export var getStatus=function getStatus(userId){return function(dispatch){profileAPI.getStatusRequest(userId).then(function(response){dispatch(setStatus(response.data));});};};export var updateAuthStatus=function updateAuthStatus(status){return function(dispatch){profileAPI.updateAuthStatusRequest(status).then(function(response){if(response.data.resultCode===0){dispatch(setStatus(status));}});};};export default profileReducer;","map":{"version":3,"sources":["/Users/liliia/Downloads/demo-social-network/src/Redux/profileReducer.js"],"names":["profileAPI","avatarIcon","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","initialState","posts","id","avatar","likesCount","message","userProfile","status","profileReducer","state","action","type","newPost","newPostBody","filter","p","postId","userProfileData","addPost","deletePost","setUserProfile","setStatus","getProfile","userId","dispatch","getProfileRequest","then","data","getStatus","getStatusRequest","response","updateAuthStatus","updateAuthStatusRequest","resultCode"],"mappings":"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","sourcesContent":["import { profileAPI } from '../api/api';\nimport avatarIcon from '../assets/images/rainbow.jpeg';\n\nconst ADD_POST = 'ADD_POST';\nconst DELETE_POST = 'DELETE_POST';\n// const UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\n\nlet initialState = {\n  posts: [\n    { id: 1, avatar: avatarIcon, likesCount: 14, message: 'A koala is my favorite animal', },\n    { id: 2, avatar: avatarIcon, likesCount: 10, message: 'What a wonderful world!', },\n    { id: 3, avatar: '', likesCount: 30, message: 'Every life matters. Even the smallest.', },\n  ],\n  // newPostText: '',\n  userProfile: null,\n  status: '',\n}\nconst profileReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n\n    // case UPDATE_NEW_POST_TEXT:\n    //   return {\n    //     ...state,\n    //     newPostText: action.newPostChange,\n    //   }\n\n    case ADD_POST:\n      let newPost = {\n        id: 5,\n        avatar: avatarIcon,\n        likesCount: 0,\n        message: action.newPostBody,\n      };\n      return {\n        ...state,\n        posts: [...state.posts, newPost],\n        // newPostText: '',\n      }\n\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: [...state.posts].filter(p => p.id !== action.postId),\n      }\n\n    case SET_USER_PROFILE: {\n      return {\n        ...state,\n        userProfile: action.userProfileData,\n      }\n    }\n\n    case SET_STATUS: {\n      return {\n        ...state,\n        status: action.status,\n      }\n    }\n    \n    default:\n      return state;\n  }\n}\n\nexport const addPost = (newPostBody) => ({ type: ADD_POST, newPostBody }); //actionCreator create the action ={type: ADD_POST, newPostBody:newPostBody}\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId });\n// export const updateNewPostTextCreator = (text) => ({ type: UPDATE_NEW_POST_TEXT, newPostChange: text });\nexport const setUserProfile = (userProfileData) => ({ type: SET_USER_PROFILE, userProfileData });\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\n\nexport const getProfile = (userId) => (dispatch) => {\n  profileAPI.getProfileRequest(userId)\n    .then(data => {\n      dispatch(setUserProfile(data));\n    });\n};\n\nexport const getStatus = (userId) => (dispatch) => {\n  profileAPI.getStatusRequest(userId)\n    .then(response => {\n      dispatch(setStatus(response.data));\n    });\n};\n\nexport const updateAuthStatus = (status) => (dispatch) => {\n  profileAPI.updateAuthStatusRequest(status)\n    .then(response => {\n      if (response.data.resultCode === 0) {\n        dispatch(setStatus(status));\n      }\n    });\n};\n\nexport default profileReducer;\n\n"]},"metadata":{},"sourceType":"module"}
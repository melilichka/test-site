{"ast":null,"code":"import _toConsumableArray from\"/Users/liliia/Downloads/demo-social-network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{memo}from'react';import{Field,reduxForm}from'redux-form';import{maxLength}from'../../Common/utils/validators';import{Textarea}from'../../Common/FormControls/FormControls';import style from'./MyPosts.module.css';import Post from'./Post/Post';var maxLength300=maxLength(300);var AddNewPostForm=function AddNewPostForm(props){return/*#__PURE__*/_jsxs(\"form\",{className:style.postForm,onSubmit:props.handleSubmit,children:[/*#__PURE__*/_jsx(Field// onChange={onPostChange}\n// ref={newPost}\n// value={newPostText}\n,{component:Textarea,validate:[maxLength300],name:\"newPostBody\",placeholder:\"Enter your post...\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\"// onClick={onAddPostClick}\n,children:\"Add post\"})]});};var AddNewPostReduxForm=reduxForm({form:'addPost'})(AddNewPostForm);var MyPosts=/*#__PURE__*/memo(function(props){var posts=props.profilePage.posts;// let newPostText = props.profilePage.newPostText;\nvar postsElements=_toConsumableArray(posts).reverse().map(function(p){return/*#__PURE__*/_jsx(Post,{id:p.id,avatar:p.avatar,likesCount:p.likesCount,message:p.message},p.id);});// let newPost = React.createRef();\n// let onPostChange = () => {\n//     let text = newPost.current.value;\n//     props.updateNewPostText(text);\n// }\n// let onAddPostClick = () => {\n//     props.addPost();\n// }\nvar addPostSubmit=function addPostSubmit(values){if(values.newPostBody){props.addPost(values.newPostBody);values.newPostBody='';}};return/*#__PURE__*/_jsxs(\"div\",{className:style.postBlock,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"My posts\"}),/*#__PURE__*/_jsx(AddNewPostReduxForm,{onSubmit:addPostSubmit}),/*#__PURE__*/_jsx(\"div\",{className:style.posts,children:postsElements})]});});export default MyPosts;","map":{"version":3,"sources":["/Users/liliia/Downloads/demo-social-network/src/components/Profile/MyPosts/MyPosts.jsx"],"names":["React","memo","Field","reduxForm","maxLength","Textarea","style","Post","maxLength300","AddNewPostForm","props","postForm","handleSubmit","AddNewPostReduxForm","form","MyPosts","posts","profilePage","postsElements","reverse","map","p","id","avatar","likesCount","message","addPostSubmit","values","newPostBody","addPost","postBlock"],"mappings":"kQAAA,MAAOA,CAAAA,KAAP,EAAgBC,IAAhB,KAA4B,OAA5B,CACA,OAASC,KAAT,CAAgBC,SAAhB,KAAiC,YAAjC,CACA,OAASC,SAAT,KAA0B,+BAA1B,CACA,OAASC,QAAT,KAAyB,wCAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,sBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CAEA,GAAMC,CAAAA,YAAY,CAAGJ,SAAS,CAAC,GAAD,CAA9B,CAEA,GAAMK,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,CAC9B,mBACI,cAAM,SAAS,CAAEJ,KAAK,CAACK,QAAvB,CAAiC,QAAQ,CAAED,KAAK,CAACE,YAAjD,wBACI,KAAC,KACG;AACA;AACA;AAHJ,EAII,SAAS,CAAEP,QAJf,CAKI,QAAQ,CAAE,CAACG,YAAD,CALd,CAMI,IAAI,CAAC,aANT,CAOI,WAAW,CAAC,oBAPhB,EADJ,cASI,eACI,IAAI,CAAC,QACL;AAFJ,sBATJ,GADJ,CAgBH,CAjBD,CAmBA,GAAMK,CAAAA,mBAAmB,CAAGV,SAAS,CAAC,CAACW,IAAI,CAAC,SAAN,CAAD,CAAT,CAA4BL,cAA5B,CAA5B,CAGA,GAAMM,CAAAA,OAAO,cAAGd,IAAI,CAAC,SAAAS,KAAK,CAAG,CAGzB,GAAIM,CAAAA,KAAK,CAAGN,KAAK,CAACO,WAAN,CAAkBD,KAA9B,CACA;AAEA,GAAIE,CAAAA,aAAa,CAAG,mBAAIF,KAAJ,EACnBG,OADmB,GAEnBC,GAFmB,CAEf,SAAAC,CAAC,CAAI,CACN,mBACI,KAAC,IAAD,EACI,EAAE,CAAEA,CAAC,CAACC,EADV,CAEI,MAAM,CAAED,CAAC,CAACE,MAFd,CAGI,UAAU,CAAEF,CAAC,CAACG,UAHlB,CAII,OAAO,CAAEH,CAAC,CAACI,OAJf,EAKSJ,CAAC,CAACC,EALX,CADJ,CASH,CAZmB,CAApB,CAcA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA,GAAMI,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,MAAD,CAAY,CAC9B,GAAIA,MAAM,CAACC,WAAX,CAAwB,CACpBlB,KAAK,CAACmB,OAAN,CAAcF,MAAM,CAACC,WAArB,EACAD,MAAM,CAACC,WAAP,CAAqB,EAArB,CACH,CACJ,CALD,CAMA,mBACI,aAAK,SAAS,CAAEtB,KAAK,CAACwB,SAAtB,wBACI,gCADJ,cAEI,KAAC,mBAAD,EAAqB,QAAQ,CAAEJ,aAA/B,EAFJ,cAGI,YAAK,SAAS,CAAEpB,KAAK,CAACU,KAAtB,UACKE,aADL,EAHJ,GADJ,CASH,CA9CmB,CAApB,CAoDA,cAAeH,CAAAA,OAAf","sourcesContent":["import React, { memo } from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { maxLength } from '../../Common/utils/validators';\nimport { Textarea } from '../../Common/FormControls/FormControls';\nimport style from './MyPosts.module.css';\nimport Post from './Post/Post';\n\nconst maxLength300 = maxLength(300);\n\nconst AddNewPostForm = (props) => {\n    return (\n        <form className={style.postForm} onSubmit={props.handleSubmit}>\n            <Field\n                // onChange={onPostChange}\n                // ref={newPost}\n                // value={newPostText}\n                component={Textarea}\n                validate={[maxLength300]}\n                name='newPostBody'\n                placeholder='Enter your post...' />\n            <button\n                type='submit'\n                // onClick={onAddPostClick}\n            >Add post</button>\n        </form>\n    )\n}\n\nconst AddNewPostReduxForm = reduxForm({form:'addPost'})(AddNewPostForm);\n\n\nconst MyPosts = memo(props=> {\n    \n    \n    let posts = props.profilePage.posts;\n    // let newPostText = props.profilePage.newPostText;\n    \n    let postsElements = [...posts]\n    .reverse()\n    .map(p => {\n        return (\n            <Post\n                id={p.id}\n                avatar={p.avatar}\n                likesCount={p.likesCount}\n                message={p.message}\n                key={p.id}\n            />\n        )\n    });\n    \n    // let newPost = React.createRef();\n    \n    // let onPostChange = () => {\n    //     let text = newPost.current.value;\n    //     props.updateNewPostText(text);\n    // }\n    \n    // let onAddPostClick = () => {\n    //     props.addPost();\n    // }\n    \n    const addPostSubmit = (values) => {\n        if (values.newPostBody) {\n            props.addPost(values.newPostBody);\n            values.newPostBody = '';\n        }\n    }\n    return (\n        <div className={style.postBlock}>\n            <h3>My posts</h3>\n            <AddNewPostReduxForm onSubmit={addPostSubmit}/>\n            <div className={style.posts}>\n                {postsElements}\n            </div>\n        </div>\n    );\n});\n\n\n   \n   \n\nexport default MyPosts;"]},"metadata":{},"sourceType":"module"}